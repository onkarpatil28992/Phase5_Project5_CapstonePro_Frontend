{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/employee.service\";\nimport * as i2 from \"@angular/forms\";\nexport let EditEmployeeProfileComponent = /*#__PURE__*/(() => {\n  class EditEmployeeProfileComponent {\n    constructor(employee_service) {\n      this.employee_service = employee_service;\n    }\n\n    ngOnInit() {}\n\n    submitNewPassword(updatePasswordRef) {\n      let a = document.getElementById('f_currPassword');\n      let b = document.getElementById('f_newPassword1');\n      let c = document.getElementById('f_newPassword2');\n      a.value = \"\";\n      b.value = \"\";\n      c.value = \"\";\n      console.log(updatePasswordRef);\n      let emp_id = sessionStorage.getItem('id'); // We need to retrieve the employee password\n\n      let resp = this.employee_service.getEmployeeById({\n        \"id\": emp_id\n      });\n      resp.subscribe(response => {\n        let employee_details = response['data'][0];\n        console.log(\"here are the details\");\n        console.log(employee_details);\n\n        if (updatePasswordRef['f_newPassword1'] != updatePasswordRef['f_newPassword2']) {\n          console.log(\"ok\");\n          this.password1Res = \"❌ Password didn't match!\";\n          this.password2Res = \"❌ Password didn't match!\";\n        } else {\n          if (updatePasswordRef['f_currPassword'] == employee_details['password']) {\n            console.log(\"Match!\");\n            let update_details = {\n              id: emp_id,\n              password: updatePasswordRef['f_newPassword1']\n            }; // Send PUT request for password change\n\n            this.employee_service.updatePassword(update_details).subscribe(res => {\n              if (res.status) {\n                alert(\"Your password has been successfully changed!\");\n              } else {\n                alert(\"Password could not be changed! Try again!\");\n              }\n            });\n          }\n        }\n      });\n    }\n\n  }\n\n  EditEmployeeProfileComponent.ɵfac = function EditEmployeeProfileComponent_Factory(t) {\n    return new (t || EditEmployeeProfileComponent)(i0.ɵɵdirectiveInject(i1.EmployeeService));\n  };\n\n  EditEmployeeProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: EditEmployeeProfileComponent,\n    selectors: [[\"app-edit-employee-profile\"]],\n    decls: 43,\n    vars: 2,\n    consts: [[\"id\", \"wrap\", 1, \"bg-gradient\", \"p-3\", \"pt-5\"], [1, \"text-danger\"], [1, \"updatePasswordContent\", \"bg-gradient\"], [3, \"ngSubmit\"], [\"updatePasswordRef\", \"ngForm\"], [1, \"row\"], [1, \"col\"], [1, \"form-floating\", \"mb-3\"], [\"type\", \"password\", \"id\", \"f_currPassword\", \"name\", \"f_currPassword\", \"ngModel\", \"\", 1, \"form-control\"], [\"for\", \"f_currPassword\"], [\"type\", \"password\", \"id\", \"f_newPassword1\", \"name\", \"f_newPassword1\", \"ngModel\", \"\", 1, \"form-control\"], [\"for\", \"f_newPassword1\"], [1, \"invalidPass\"], [\"type\", \"password\", \"id\", \"f_newPassword2\", \"name\", \"f_newPassword2\", \"ngModel\", \"\", 1, \"form-control\"], [\"for\", \"f_newPassword2\"], [\"type\", \"submit\", \"value\", \"Done\", 1, \"btn\", \"btn-danger\", \"formBtn\"], [\"type\", \"reset\", \"value\", \"Reset\", 1, \"btn\", \"btn-secondary\", \"formBtn\"], [\"width\", \"100rem\", \"height\", \"100rem\", 1, \"bg-dark\", \"pb-5\", \"col-lg-100\", \"m-5\"]],\n    template: function EditEmployeeProfileComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r1 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n        i0.ɵɵtext(2, \"Change Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(3, \"br\");\n        i0.ɵɵelementStart(4, \"div\", 2)(5, \"form\", 3, 4);\n        i0.ɵɵlistener(\"ngSubmit\", function EditEmployeeProfileComponent_Template_form_ngSubmit_5_listener() {\n          i0.ɵɵrestoreView(_r1);\n\n          const _r0 = i0.ɵɵreference(6);\n\n          return i0.ɵɵresetView(ctx.submitNewPassword(_r0.value));\n        });\n        i0.ɵɵelementStart(7, \"div\", 5)(8, \"div\", 6)(9, \"div\", 7);\n        i0.ɵɵelement(10, \"input\", 8);\n        i0.ɵɵelementStart(11, \"label\", 9);\n        i0.ɵɵtext(12, \"Current Password\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(13, \"div\", 5)(14, \"div\", 6)(15, \"div\", 7);\n        i0.ɵɵelement(16, \"input\", 10);\n        i0.ɵɵelementStart(17, \"label\", 11);\n        i0.ɵɵtext(18, \"New Password\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(19, \"p\", 12);\n        i0.ɵɵtext(20);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(21, \"div\", 5)(22, \"div\", 6)(23, \"div\", 7);\n        i0.ɵɵelement(24, \"input\", 13);\n        i0.ɵɵelementStart(25, \"label\", 14);\n        i0.ɵɵtext(26, \"Confirm New Password\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"p\", 12);\n        i0.ɵɵtext(28);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(29, \"div\", 5)(30, \"div\", 6);\n        i0.ɵɵelement(31, \"input\", 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"div\", 6);\n        i0.ɵɵelement(33, \"input\", 16);\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(34, \"div\", 17);\n        i0.ɵɵelement(35, \"div\", 17)(36, \"div\", 17)(37, \"div\", 17)(38, \"div\", 17)(39, \"div\", 17)(40, \"div\", 17)(41, \"div\", 17)(42, \"div\", 17);\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(20);\n        i0.ɵɵtextInterpolate(ctx.password1Res);\n        i0.ɵɵadvance(8);\n        i0.ɵɵtextInterpolate(ctx.password2Res);\n      }\n    },\n    dependencies: [i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.NgModel, i2.NgForm],\n    styles: [\"h2[_ngcontent-%COMP%]{margin:auto}h3[_ngcontent-%COMP%]{text-align:center}.updatePasswordContent[_ngcontent-%COMP%]{width:50%;margin:auto}.passInput[_ngcontent-%COMP%]{width:100%;border:5px solid red}.formBtn[_ngcontent-%COMP%]{width:100%;margin:5px}#wrap[_ngcontent-%COMP%]{margin:20px 400px;border:5px solid black;padding:15px;border-radius:10px;box-shadow:0 4px 8px #0000004d,0 6px 20px #0000004d}\"]\n  });\n  return EditEmployeeProfileComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}